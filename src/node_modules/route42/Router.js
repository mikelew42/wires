var Mod1 = require("mod42/Mod1");
var Mod2 = require("mod42/Mod2");
var Mod3 = require("mod42/Mod3");
var is = require("is");
var Route = require("./Route");
var History = require("history").createBrowserHistory;

var logger = require("log42");
var log = logger();

var RouterView = require("./RouterView");

var Router = module.exports = Mod3.extend({
	name: "Router",
	Route: Route,
	View: RouterView,
	init: function(){
		this.routes = [];
		this.history = History();
		this.history.listen(this.historyListener.bind(this));
	},
	historyListener: function(location, action){
		this.match();
	}
});