var TestFramework = require("../test/framework");
var test = TestFramework.test;
var assert = console.assert.bind(console);
var is = require("../is");
var $ = require("jquery");
var View = require("View");

var Router = require("./Router");

$(function(){

test("Router", function(){

	var router = Router({
		// log: true
	});

	router.add("one");
	router.one.add("two").then(function(){
		console.log("matched", this.path);
	});

	router.add("test").add("route42").add("Router").add("one");
	router.test.route42.Router.add("two");
	// router.one.two.activate();

	router.match(); // must be manually triggered when all routes have been added...

	$(function(){
		View({
			tag: "button",
			content: function(){
				this.append("one");
				this.click(function(){
					router.test.route42.Router.one.activate();
				}.bind(this));
			}
		}).appendTo("body");
	});
});

});