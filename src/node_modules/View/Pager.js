var View = require("./View");

var Pager = View.Pager = module.exports = View.AutoSub.extend({
	name: "Pager",
	addClass: "pager",
	init: function(){
		this.chain = [];
	},
	to_append: function(view){
		view.appendTo(this.$el);
	},
	to: function(view){
		view.hide();
		this.to_append(view);

		// store the last page
		if (this.last)
			this.chain.push(this.last);

		if (this.current){
			this.current.hide();
			this.last = this.current;
		}
		
		view.show();
		this.current = view;
	},
	back: function(){
		if (this.current)
			this.current.hide();
		
		if (this.last)
			this.last.show();

		this.current = this.last;
		this.last = this.chain.pop();
	}
});