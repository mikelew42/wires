var View1 = require("./View1");
var test = require("test42");
var assert = test.assert;

var view = View1;

/*

viewables
	simple value
	function
		capture
		return value



content undefined
	=> any => assign

content fn or value
	=> new viewable => assign

content []
	=> new fn or value => append
	=> object => std set (assign, call/apply)
	=> array => apply push
	=> [array] => push the array

*/

test("basic", function(){
	view("hello world");
	view("hello", " ", "world");
	view({
		addClass: "test",
		content: "yo"
	});
});

test("triforce", function(){
	view("content").css("color", "red");

	view({
		css: ["color", "white"],
		content: "content"
	});

	view(function(){
		this.append("content").css("color", "blue");
	});
});

test("external nesting", function(){
	var v1 = view("one", view("two three"), "four");
	var v2 = v1.clone();
	console.log(v1, v2);
});

test("extending", function(){
	var view2 = view.extend("one", function(){
		this.append(Date.now());
	});

	var v2 = view2();

	view.button("click me").click(function(){
		v2.capture(function(){
			view2();
		}, this);
	}.bind(this));
});